<div class="menu-container">
  <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
  <div class="category-filter">
    <button 
      *ngFor="let category of categories"
      [class.active]="selectedCategory === category.id"
      (click)="selectCategory(category.id)"
      class="category-btn">
      {{ category.name }}
    </button>
  </div>

  <!-- –ü–æ–∏—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
  <div class="search-controls">
    <input 
      type="text" 
      [(ngModel)]="searchTerm"
      (input)="onSearchInput()"
      placeholder="üîç –ü–æ–∏—Å–∫ –±–ª—é–¥..."
      class="search-input">
    
    <button (click)="reloadMenu()" class="reload-btn">
      üîÑ –û–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é
    </button>
  </div>

  <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div *ngIf="isLoading" class="loading">
    <div class="spinner"></div>
    ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é...
  </div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
  <div *ngIf="error" class="error">
    ‚ùå {{ error }}
    <button (click)="reloadMenu()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div *ngIf="!isLoading && !error" class="content-wrapper">
    <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
    <div class="cart-section">
      <h3>üõí –ö–æ—Ä–∑–∏–Ω–∞ ({{ cartItems.length }})</h3>
      
      <div *ngIf="cartItems.length === 0" class="empty-cart">
        –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
      </div>

      <div *ngFor="let item of cartItems" class="cart-item">
        <img [src]="item.menuItem.image" [alt]="item.menuItem.name" class="cart-image">
        
        <div class="cart-info">
          <h4>{{ item.menuItem.name }}</h4>
          <p class="price">{{ item.menuItem.price }} ‚Ç∏ √ó {{ item.quantity }}</p>
        </div>

        <div class="quantity-controls">
          <button (click)="decreaseQuantity(item.menuItem.id)" class="qty-btn">-</button>
          <span class="quantity">{{ item.quantity }}</span>
          <button (click)="increaseQuantity(item.menuItem.id)" class="qty-btn">+</button>
        </div>

        <button (click)="removeFromCart(item.menuItem.id)" class="remove-btn">üóëÔ∏è</button>
      </div>

      <div *ngIf="cartItems.length > 0" class="cart-footer">
        <div class="total">–ò—Ç–æ–≥–æ: <strong>{{ getCartTotal() }} ‚Ç∏</strong></div>
        <button (click)="clearCart()" class="clear-btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button (click)="checkout()" class="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
      </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –±–ª—é–¥ -->
    <div class="menu-section">
      <div *ngIf="filteredItems.length === 0" class="no-results">
        üòû –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É "{{ searchTerm }}"
      </div>

      <div *ngIf="filteredItems.length > 0" class="results-info">
        –ù–∞–π–¥–µ–Ω–æ –±–ª—é–¥: {{ filteredItems.length }}
      </div>

      <div class="menu-grid">
        <div *ngFor="let item of filteredItems" class="menu-card">
          <img [src]="item.image" [alt]="item.name" class="menu-image">
          
          <div class="menu-content">
            <h3>{{ item.name }}</h3>
            <p class="description">{{ item.description }}</p>
            <p class="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ getCategoryName(item.category) }}</p>
            
            <div class="ingredients">
              <span *ngFor="let ingredient of item.ingredients" class="ingredient-tag">
                {{ ingredient }}
              </span>
            </div>
            
            <div class="card-footer">
              <span class="price">{{ item.price }} ‚Ç∏</span>
              <button (click)="addToCart(item)" class="add-btn">
                + –î–æ–±–∞–≤–∏—Ç—å
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>